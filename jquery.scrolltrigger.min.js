/*
 * 
 * scrolltrigger
 * 
 * ---
 * @Copyright(c) 2012, falsandtru
 * @license MIT  http://opensource.org/licenses/mit-license.php  http://sourceforge.jp/projects/opensource/wiki/licenses%2FMIT_license
 * @version 1.2.0
 * @updated 2013/04/04
 * @author falsandtru  http://fat.main.jp/  http://sa-kusaku.sakura.ne.jp/
 * @CodingConventions Google JavaScript Style Guide
 * @Compressor YUI Compressor
 */
(function(a){jQuery.fn.scrolltrigger=b;jQuery.scrolltrigger=b;function b(c){if(typeof this==="function"){return arguments.callee.apply(jQuery(window),arguments)}var f={gns:"scrolltrigger",ns:undefined,trigger:undefined,callback:function(){},parameter:[],ahead:0,beforehand:0,step:1,expand:true,terminate:true,reset:true},e=jQuery.extend({},f,c);if(e.reset){jQuery.extend(e,{nss:{scroll:["scroll",e.gns+(e.ns?":"+e.ns:"")].join("."),scrolltrigger:["scrolltrigger",e.gns+(e.ns?":"+e.ns:"")].join("."),data:e.gns+(e.ns?":"+e.ns:"")},scope:this.get(0)===window?document:this,count:0,reset:false})}if(!jQuery(e.scope).length||!arguments.length){return this}for(var d=0;d<jQuery(e.scope).length;d++){jQuery.data(jQuery(e.scope).eq(d).get(0),e.nss.data,jQuery.extend({},e))}if(e.expand&&this.get(0)!==window){jQuery(window).unbind(e.nss.scroll).bind(e.nss.scroll,e,function(g){g.data.scope===document?null:jQuery(g.data.scope).trigger(g.data.nss.scrolltrigger)})}jQuery(this).unbind(e.nss.scroll).bind(e.nss.scroll,e,function(g){jQuery(this).trigger(g.data.nss.scrolltrigger)}).unbind(e.nss.scrolltrigger).bind(e.nss.scrolltrigger,e,function(l){var j,k=this===window?document:this,h=jQuery.data(k,l.data.nss.data);if(!h){return this}targets=jQuery(h.trigger,k);target=targets.eq(h.count);if(!target.length){if(h.terminate){var m=0;jQuery(this).unbind(h.nss.scrolltrigger).unbind(h.nss.scroll);jQuery.removeData(k,h.nss.data);for(var g=0;g<jQuery(h.scope).length;g++){m+=jQuery.data(jQuery(h.scope).eq(g).get(0),h.nss.data)?1:0}m?null:jQuery(window).unbind(h.nss.scroll)}return this}j=h.beforehand>h.count?true:jQuery(window).scrollTop()>target.offset().top-jQuery(window).height()-parseInt(h.ahead);if(!j){return this}h.callback.apply(target.get(0),[l,h.parameter]);h.count+=h.step;jQuery.data(k,h.nss.data,h);return arguments.callee.apply(this,arguments)});return this}})(jQuery);
